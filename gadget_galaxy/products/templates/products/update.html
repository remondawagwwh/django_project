{% extends 'base.html' %}

{% block title %}Update Product{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Update Product</h2>

    <form method="post" enctype="multipart/form-data" class="form-group">
        {% csrf_token %}

        <label for="Pname">Product Name:</label>
        <input type="text" id="Pname" name="Pname" value="{{ product.name }}" class="form-control" required>
<br>
        <br>
        <label for="description">Description:</label>
        <textarea id="description" name="description" class="form-control" rows="4">{{ product.description }}</textarea><br>
<br>
        <br>
        <label for="price">Price:</label>
        <input type="number" step="0.01" id="price" name="price" value="{{ product.price }}" class="form-control" required><br>
<br>
        <br>
        <label for="stock">Stock:</label>
        <input type="number" id="stock" name="stock" value="{{ product.stock }}" class="form-control" required><br>
<br>
        <br>
        <label for="sku">SKU:</label>
        <input type="text" id="sku" name="sku" value="{{ product.sku }}" class="form-control" required><br>
<br>
        <br>
        <label for="bcat">Category:</label>
        <select id="bcat" name="bcat" class="form-control" required>
            {% for category in catagories %}
                <option value="{{ category.id }}" {% if category.id == product.category.id %}selected{% endif %}>
                    {{ category.name }}
                </option>
            {% endfor %}
        </select><br>
<br>
        <br>
        <label for="Pimage">Image:</label>
        {% if product.image %}
            <br><img src="{{ product.image.url }}" alt="{{ product.name }}" width="100"><br>
        {% endif %}
        <input type="file" id="Pimage" name="Pimage" class="form-control"><br>
<br>
        <br>
        <input type="submit" value="Update" class="btn btn-primary">
        <a href="{% url 'product_list' %}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}